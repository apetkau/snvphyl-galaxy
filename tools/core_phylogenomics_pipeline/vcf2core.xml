<tool id="vcf2core" name="VCF 2 % Core" version ="0.0.3">
  <description>Determine genomics core from Mpileup vcf files</description>
        <requirements>
                <requirement type="package" version="1.1">core-phylogenomics</requirement>
        </requirements>

  <command interpreter="perl">
	/\$VCF2PSEUDO/vcf2core.pl --fasta "$fasta"
        --coverage-cutoff "$coverage"
        --positions "$positions"

	#for $f in $mpileup_collection.keys# --mpileup "$f=$mpileup_collection[$f]" #end for#

        > $out 
  </command>
  <inputs>
    <param name="fasta" type="data"  label="Fasta file" format="fasta"/>
    <param name="coverage" type="integer" value="15" label="minimum coverage"/>
    <param name="positions" type="data"  label="Pseudo Positions file" format="tabular"/>
    <param name="mpileup_collection" type="data_collection" label="Mpileup VCF" help="" optional="false" format="tabular" collection_type="list" />
  </inputs>
  <outputs>
    <data format="tabular" name="out" />
  </outputs>
  <stdio>
  	<exit_code range="1:" level="fatal" description="Unknown error has occured"/>
  </stdio>
  <!--tests>
    </tests-->

  <help>
  </help>

</tool>
