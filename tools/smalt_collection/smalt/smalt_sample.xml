<tool id="smalt_sample" name="smalt sample" version="0.0.3" >
        <requirements>
          <requirement type="package" version="1.1">smalt</requirement>
        </requirements>
          
	<command interpreter="bash">
	  smalt_sample.sh "$smi" "$sma"
          
          2 "$mInput1" "$mInput2"
          
          -o "$output"

          #if $threads:
              -n "$threads"
          #end if

          #if $minscor:
              -m "$minscor"
          #end if
          
          #if $minbasq:
              -q "$minbasq"
          #end if    

          #if $num_reads:
              -u "$num_reads"
          #end if    
          
	</command>

	<description>Sample insert size distribution for paired reads.</description>

	<inputs>
	  <param name="mInput1" type="data" format="fastq,fastqsanger,fastqillumina,fastqsolexa" label="Forward FASTQ file" help="Must have ASCII encoded quality scores"/>
          <param name="mInput2" type="data" format="fastq,fastqsanger,fastqillumina,fastqsolexa" label="Reverse FASTQ file" help="File format must match the Forward FASTQ file"/>
          <param name="smi" type="data"  label="SMI index" help=""/>
          <param name="sma" type="data"  label="SMA index" help=""/>
          
          <param name="threads" type="text" format="integer" value="2" label="Number of threads to use" help="The order of the reads in the input files is not preserved for the output unless '-O' is also specified"/>
          <param name="minscor" type="text" label="Sets an absolute threshold of the Smith-Waterman scores." help="Mappings with scores below that threshold will not be reported. The default is &#060; minscor &#062; = &#060; wordlen &#062; + &#060; stepsiz &#062; - 1"/>
          <param name="minbasq" type="text" label="Sets a base quality threshold (0 &#060;= minbasq &#060;= 10, default 0)" help="K-mer words of the read with nucleotides that have a base quality below this threshold are not looked up in the hash index."/>

          <param name="num_reads" type="integer" value="100" label="Map only every [num_reads]-th read pair" help="Default 100"/>
	</inputs>

	<outputs>
                <data format="cigar" name="output" />
	</outputs>
        <stdio>
          <exit_code range="1:"   level="fatal"   description="Unknown error" />
        </stdio>
        
<help>

**What it does**

  Sample insert size distribution for paired reads. A subset of the read
  pairs is aligned with a reference in order to derrive the distribution of
  insert sizes. The reference sequences and index are read from the files
  [index_name.sma and [index_name].smi created by the 'index' task


------

Please cite the website "http://www.sanger.ac.uk/resources/software/smalt/".




</help>


</tool>

